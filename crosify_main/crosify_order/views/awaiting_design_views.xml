<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="awaiting_design_view_tree" model="ir.ui.view">
            <field name="name">awaiting_design_view_tree</field>
            <field name="model">sale.order.line</field>
            <field name="arch" type="xml">
                <tree string="awaiting_design_tree">
                    <field name="production_id"/>
                    <field name="order_id_fix"/>
                    <field name="my_admin_order_id"/>
                    <field name="my_admin_order_id"/>
                    <field name="product_sku"/>
                    <field name="product_type"/>
                    <field name="color"/>
                    <field name="size"/>
                    <field name="other_option"/>
                    <field name="personalize"/>
                    <field name="designer_id"/>
                    <field name="design_note"/>
                    <field name="sublevel_id"/>
                </tree>
            </field>
        </record>

        <record id="action_set_design" model="ir.actions.server">
            <field name="name">Set Designer</field>
            <field name="model_id" ref="crosify_order.model_sale_order_line"/>
            <field name="binding_model_id" ref="crosify_order.model_sale_order_line"/>
            <field name="binding_view_types">form,list</field>
            <field name="state">code</field>
            <field name="groups_id"
                   eval="[(6, 0, [ref('crosify_order.group_designer_team'), ref('base.group_system')])]"/>
            <field name="code">action = model.action_set_designer()</field>
        </record>

        <record id="action_set_design_note" model="ir.actions.server">
            <field name="name">Set Design Note</field>
            <field name="model_id" ref="crosify_order.model_sale_order_line"/>
            <field name="binding_model_id" ref="crosify_order.model_sale_order_line"/>
            <field name="binding_view_types">form,list</field>
            <field name="state">code</field>
            <field name="groups_id"
                   eval="[(6, 0, [ref('crosify_order.group_designer_team'), ref('base.group_system')])]"/>
            <field name="code">action = model.action_set_design_note()</field>
        </record>


        <record id="crosify_order_awaiting_design_action" model="ir.actions.act_window">
            <field name="name">Awaiting design</field>
            <field name="res_model">sale.order.line</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('sublevel_id.level', '=', 'L3.1')]</field>
            <field name="view_ids" eval="[(5, 0, 0),
            (0, 0, {'view_mode': 'tree', 'view_id': ref('crosify_order.awaiting_design_view_tree')})]"/>
        </record>

        <menuitem id="crosify_order_awaiting_design_menu"
                  name="Awaiting design"
                  action="crosify_order_awaiting_design_action"
                  parent="sale.sale_order_menu"
                  groups="base.group_system,crosify_order.group_designer_team"
                  sequence="23"/>


    </data>
</odoo>